One, two, three
[...] And then you get free save, load, undo and something insane called time-travel debugging on top of that. [...] Ah, we almost got them too. Thats it. [...] Now we can build from that. [...] These are optimizations and to some extent simplifications, not core to idea. [...] Maybe it is still not clear enough, so Ill show you. [...] One thing to add is this naive approach to immutable collections is not only cumbersome, but also ineffective. [...] E.g. [...] And there is one more way to look at it. [...] Anyway, now that you know all this, you can judge better on what to use and how to structure your code.