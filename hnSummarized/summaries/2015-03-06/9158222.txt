One, two, three
[...] So again, if your table gets large, this can really start to hurt. Also, depending on the other conditions in your query, this can result in unexpected semantics: sampling from joins can be hard to reason about, and it's easy to end up with a query that returns at most X records, instead of exactly X. So that's an issue. [...] Vitter's formal statement of the problem is that we want to select: a random sample of n records without replacement from a pool of N records, where the value of N is unknown beforehand. [...] We can work with that. [...] Consider the simplest non-trivial example: a sample of 1 element, from a two-element reservoir. At iteration one, we accept the first element. [...] If you liked this, be sure to check out our other tutorials. [...] Ask one here just leave a comment below, or highlight some code. [...] For example, you may only want to sample every third item in your stream.